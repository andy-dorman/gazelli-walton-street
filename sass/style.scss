@import 'base';

@import 'compass/css3/transition';

$inline-header-padding: 		15px;
$hr-rule-top-colour: 			#414141;
$hr-rule-bottom-colour:			#242424;
$jumbotron-side-padding: 		80px;
$site-bg:	 					#343434;
$letter-spacing:				2px;
$lock-in-text-height: 			40px;

body {
	letter-spacing:				$letter-spacing;
}

.jumbotron {
	padding-left: 				$jumbotron-side-padding;
	padding-right: 				$jumbotron-side-padding;
	padding-bottom: 			0;
	margin-bottom: 				0;
}

.container {
	padding-left: 				$jumbotron-side-padding;
	padding-right: 				$jumbotron-side-padding;
	background-color: 			$site-bg;
	& ~ .container {
		padding-bottom: 		20px;
	}
}

.bottom-hr {
	border-bottom: 				1px solid $hr-rule-top-colour;

	&:after {
		border-bottom: 			1px solid $hr-rule-bottom-colour;
		width: 					100%;
		top: 					5px;
		position:				relative;
		display: 				inline-block;
		content: 				'';
	}
	&.row:after {
		display: 				block;
		top: 					2px;
	}
}



.navbar-header {
	float: 						none;
	display: 					inline-block;
}

.navbar-brand {
	background: 				transparent url('../images/walton_st_logo.png') top left no-repeat;
	text-indent:				-9999px;
	width: 						123px;
	height: 					55px;
}

h2 {
	text-transform: 			uppercase;
}

.separator {
	display: 					inline-block;
	padding-right: 				$inline-header-padding !important;
	
	& ~ .separator {
		border-left: 			1px solid $brand-primary;
		padding-left: 			$inline-header-padding;
	}
}

h3 {
	font-family: 				$font-family-sans-serif;
	text-transform: 			uppercase;
	font-size: 					$font-size-h4;
}

.key-panel-row {
	& .key-panel {
		background: 			$site-bg url('../images/key-tag-no-goal.png') center top no-repeat;
		height: 				178px;
		padding: 				0;
		position: 				relative;

		& div {
			position: 			absolute;
			top: 				0px;
			clip: 				rect(178px, 500px, 178px, 0px);
			@include transition(all 0.2s ease-in-out);
			height: 			100%;
			width:				100%;
			background-color: 	$brand-primary;
			opacity: 			0;

			& p,
			& h4 {
				color:			$gray-dark;
				max-width:		150px;
				margin:			auto;
			}

			& h4 {
				font-size:		$font-size-h3;
				margin-top:		24px;
				margin-bottom:	6px;
			}
		}

		& p + div {
			/*margin-top:			-($lock-in-text-height - 1);*/
		}

		&.lock-in {
			background-image:			url('../images/key-tag-lock-in.png');

			& div {
				background-image: 		url('../images/key-tag-lock-in.png');
				background-position:	center -178px;
				background-repeat:		no-repeat;
			}

			& p {
				height: 			$lock-in-text-height;
				width: 				140px;
				margin: 			auto;
				position: 			relative;
				top: 				50%;
				transform: 			translateY(-15px);
				margin: 			auto;
			}
		}

		&.goal > h4 {
			width:					32px;
			font-size:				$font-size-h3;
			color:	 				$site-bg;
			position: 				relative;
			top: 					50%;
			transform: 				translateY(-5px);
			margin: 				auto;
		}

		&:hover div {
			clip: 				rect(0px, 500px, 178px, 0px);
			opacity: 			1;
		}

		&.goal {
			background:	 		transparent url('../images/key-tag.png') center center no-repeat;
		}

		& ~ .key-panel {
			& div {
				left:				1px;
				padding-right: 		1px;
			}

			&:after,
			&:before {
				border-left: 		1px solid $hr-rule-top-colour;
				position: 			absolute;
				height:				86%;
				left: 				0px;
				top: 				7%;
				content: 			'';
			}

			&:before {			
				border-color: 	$hr-rule-bottom-colour;
				left: 			1px;
				display: 		inline-block;
			}
			
			&:hover + .key-panel[class~=goal]:after {
				border:	 		none;
			}
		}
	}
}

.lead {
	font-size: 					$font-size-large;
}

@media(max-width:767px){
	.key-panel-row {
		& .key-panel {
		margin-bottom: 			0;
		background-position: 	center 15px;
			border-bottom: 		1px solid $hr-rule-top-colour;
			& ~ .key-panel {
				border-left: 	none;
				border-top: 	1px solid $hr-rule-bottom-colour;

				&:before {
					content: 	none;
				}
			}
		}
	}	
}

footer {
	margin-top: 20px;
	& #goto-top {
		background: 				transparent url('../images/goto-top.png') top left no-repeat;
		width: 						44px;
		height: 					46px;
		display: 					inline-block;
		text-indent: 				-9999px;
		&:hover,
		&:active {
			background-position: 	0px -46px;
		}
	}
}